const titles=document.querySelectorAll(".filter__inner"),contents=document.querySelectorAll(".filter__content"),filterBtn=document.querySelector(".filter__button"),filterWrap=document.querySelector(".filter__wrap"),sortingCatalog=document.querySelector(".catalog__sorting"),priceSortingVisible=document.querySelector(".price-sorting__visible"),priceSortingHidden=document.querySelector(".price-sorting__hidden");filterBtn?.addEventListener("click",(()=>{filterWrap.classList.contains("filter__wrap_active")?(filterWrap.style.maxHeight="0px",sortingCatalog.style.maxHeight="0px",filterWrap.classList.remove("filter__wrap_active"),sortingCatalog.classList.remove("catalog__sorting_active")):(filterWrap.style.maxHeight=filterWrap.scrollHeight+"px",filterWrap.classList.add("filter__wrap_active"),sortingCatalog.style.maxHeight=sortingCatalog.scrollHeight+"px",sortingCatalog.classList.add("catalog__sorting_active"))})),titles.forEach((e=>e.addEventListener("click",(()=>{const t=e.lastElementChild,l=document.querySelector("#"+e.dataset.tab);l.classList.contains("filter__content_active")?(l.classList.remove("filter__content_active"),e.classList.remove("filter__inner_active"),l.style.maxHeight=0,t.style.transform="rotate(0deg)"):(contents.forEach((e=>{e.classList.remove("filter__content_active"),e.style.maxHeight=0,e.previousElementSibling.lastElementChild.style.transform="rotate(0deg)"})),titles.forEach((e=>e.classList.remove("filter__inner_active"))),t.style.transform="rotate(180deg)",e.classList.add("filter__inner_active"),l.classList.add("filter__content_active"),filterWrap.style.maxHeight=l.scrollHeight+filterWrap.scrollHeight+"px",l.style.maxHeight=l.scrollHeight+"px")}))));const isEmpty=()=>{null!=priceSortingHidden&&(priceSortingHidden.style.maxHeight="0px",priceSortingVisible.lastElementChild.style.transform="rotate(0deg)")};isEmpty(),priceSortingVisible?.addEventListener("click",(e=>{e._clickPriceSorting=!0,"0px"==priceSortingHidden.style.maxHeight?(priceSortingHidden.classList.add("price-sorting__active"),priceSortingHidden.style.maxHeight=priceSortingHidden.scrollHeight+"px",priceSortingVisible.lastElementChild.style.transform="rotate(180deg)"):(priceSortingHidden.style.maxHeight="0px",priceSortingVisible.lastElementChild.style.transform="rotate(0deg)"),document.addEventListener("click",(e=>{console.log(e._clickPriceSorting),console.log(e.target.classList.contains("price-sorting__visible")),1==e._clickPriceSorting||e.composedPath().includes(priceSortingHidden)||e.target.classList.contains("price-sorting__hidden")||(priceSortingHidden.style.maxHeight="0px",priceSortingVisible.lastElementChild.style.transform="rotate(0deg)")}))})),fetch("http://localhost:4000/api/goods").then((e=>e.json())).then((e=>{console.log("Полученные данные:",e)})).catch((e=>{console.error("Ошибка:",e)}));const link=document.querySelector(".main__link");link?.addEventListener("click",(()=>{document.getElementById(link.getAttribute("data-link")).scrollIntoView({behavior:"smooth"})}));const burgerMenu=document.querySelector(".header-top__burger-menu"),burgerMenuWrap=document.querySelector(".burger-menu"),menuList=document.querySelector(".header-bottom__wrap"),iconCall=document.querySelector(".order-top__icon"),callWrap=document.querySelector(".order-top__callback"),searchBtn=document.querySelector(".search-form__btn"),searchInput=document.querySelector(".search-form__inner");burgerMenu.addEventListener("click",(function(e){e._burgerClick=!0,searchInput.classList.remove("search-form__inner_visible"),callWrap.classList.remove("order-top__callback_visible"),burgerMenuWrap.classList.toggle("burger-menu_visible"),menuList.classList.toggle("header-bottom__wrap_visible"),document.addEventListener("click",(e=>{1==e._burgerClick||e.target.classList.contains("header-top__burger-menu")||e.target.classList.contains("header-bottom__wrap")||(burgerMenuWrap.classList.remove("burger-menu_visible"),menuList.classList.remove("header-bottom__wrap_visible"))}))})),iconCall.addEventListener("click",(function(e){e._popappClick=!0,burgerMenuWrap.classList.remove("burger-menu_visible"),menuList.classList.remove("header-bottom__wrap_visible"),searchInput.classList.remove("search-form__inner_visible"),callWrap.classList.toggle("order-top__callback_visible"),document.addEventListener("click",(e=>{console.log(e),1==e._popappClick||e.target.classList.contains("order-top__callback")||e.target.classList.contains("order-top__link")||callWrap.classList.remove("order-top__callback_visible")}))})),searchBtn.addEventListener("click",(function(e){e.preventDefault(),burgerMenuWrap.classList.remove("burger-menu_visible"),menuList.classList.remove("header-bottom__wrap_visible"),callWrap.classList.remove("order-top__callback_visible"),searchInput.classList.toggle("search-form__inner_visible")}));const body=document.querySelector("body"),buttons=document.querySelectorAll(".callback__link"),modalAll=document.querySelectorAll(".modal"),firstModal=modalAll[0],loginModal=modalAll[2],modalBtnAll=document.querySelectorAll(".modal__btn"),lastModalBtn=Array.from(modalBtnAll).pop(),lastModal=Array.from(modalAll).pop();let closeIcon=document.querySelectorAll(".modal__close"),loginBtn=document.querySelectorAll(".login-btn");function visibleBodyModal(){modalAll.forEach((e=>{e.classList.contains("modal-active")?body.style.overflow="hidden":body.style.overflow="inherit"}))}function hiddenBodyModal(){modalAll.forEach((e=>{e.classList.contains("modal","modal-active")?body.style.overflow="hidden":body.style.overflow="inherit"}))}buttons.forEach((e=>{e.addEventListener("click",(function(){firstModal.classList.add("modal-active"),hiddenBodyModal()}))})),loginBtn.forEach((e=>{e.addEventListener("click",(function(){loginModal.classList.add("modal-active"),hiddenBodyModal()}))})),closeIcon.forEach((e=>{e.addEventListener("click",(function(){modalAll.forEach((e=>{e.classList.remove("modal-active"),visibleBodyModal()}))}))})),document.addEventListener("click",(function(e){e.target==firstModal&&(firstModal.classList.remove("modal-active"),visibleBodyModal())})),document.addEventListener("click",(function(e){e.target==lastModal&&(lastModal.classList.remove("modal-active"),visibleBodyModal())})),lastModalBtn.addEventListener("click",(function(){lastModal.classList.remove("modal-active")}));const slider=document.querySelector(".slider"),sliderWrap=document.querySelector(".slider__wrap"),sliderImage=document.querySelectorAll(".slider__img"),btnRight=document.querySelector(".slider__btn_right"),btnLeft=document.querySelector(".slider__btn_left");let sliderWidth,sliderCounter=0;function showSlide(){sliderWidth=document.querySelector(".slider").offsetWidth,console.log(sliderWidth),sliderWrap.style.width=sliderWidth*sliderImage.length+"px",sliderImage.forEach((e=>e.style.width=sliderWidth+"px")),console.log(),rollSlider()}function prevSlide(){sliderCounter++,sliderCounter>=sliderImage.length&&(sliderCounter=0),console.log(sliderCounter),rollSlider(),thisSlide(sliderCounter)}function nextSlide(){sliderCounter--,sliderCounter<0&&(sliderCounter=sliderImage.length-1),console.log(sliderCounter),rollSlider(),thisSlide(sliderCounter)}function rollSlider(){sliderWrap.style.transform=`translateX(${-sliderCounter*sliderWidth}px)`}function thisSlide(e){sliderDot.forEach((e=>e.classList.remove("active_dot"))),sliderDot[e].classList.add("active_dot")}window.addEventListener("resize",showSlide),btnLeft.addEventListener("click",nextSlide),btnRight.addEventListener("click",prevSlide),showSlide(),sliderDot.forEach(((e,t)=>{e.addEventListener("click",(()=>{sliderCounter=t,rollSlider(),thisSlide(sliderCounter)}))}));